<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{/static/style.css}" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</head>
<body>
<header class="header2">
    <div class="header2-content">
        <h1>Items</h1>
    </div>
</header>

<div class="content-block" >
    <div class="d-flex justify-content-center">
        <div class="character-items-spells">
            <form th:method="post" th:action="@{/items/new}">
                <label class="form-label">Name</label>
                <input class="form-control" type="text" name="name" />
                <table>
                    <tr>
                        <td><label class="form-label">Weight</label>
                            <input class="form-control" type="number" min="0.1" step="0.1" max="500" name="weight" /></td>
                        <td><label class="form-label">Type</label>
                            <input class="form-control" type="text" name="itemType" /></td>
                </table>
                <label class="form-label">Description</label>
                <textarea class="form-control" type="text" name="description"></textarea>
                <br/>
                <button class="btn btn-dark" type="submit">Create new item</button>
            </form>
        </div>
    </div>





    <div class="spells-table">
        <table class="table">
            <div th:each="item : ${items}">
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Type</th>
                </tr>
                <tr>
                    <td class="table-light" th:text="${item.name}"></td>
                    <td class="table-light" th:text="${item.weight}"></td>
                    <td class="table-light" th:text="${item.itemType}"></td>
                </tr>
                <tr>
                    <td colspan="3" class="table-light" th:text="${item.description}"></td>
                </tr>
                <tr>
                    <td colspan="3" class="table-secondary">
                        <div class="d-flex justify-content-left">
                            <form class="character-select" th:action="@{/items/delete/{id}(id=${item.id})}" th:method="delete">
                                <button class="btn btn-danger" type="submit">Delete</button>
                            </form>

                            <a class="character-select" th:href="@{/items/{itemId}(itemId=${item.id})}">
                                <button class="btn btn-warning">Edit</button>
                            </a>

                            <div th:if="${character_id != null}">
                                <form class="character-select" th:action="@{'/character/' + ${character_id} + '/addItem'}" th:method="post">
                                    <input type="hidden" th:value="${item.id}" th:name="item_id">
                                    <button class="btn btn-dark" type="submit">Add</button>
                                </form>
                            </div>
                        </div>
                    </td>
                </tr>
            </div>
        </table>
    </div>
</div>

<footer>
    <div class="d-flex justify-content-around">
        <div><img src="/static/footerPart.jpg"></div>
        <div class="footer-content-div-text">
            <h5>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis, felis
                vel mollis luctus, dui erat congue odio, sit amet gravida mauris justo sed magna.
                Donec tincidunt vel neque ac viverra. Proin finibus nibh in ligula lobortis, vel
                bibendum libero dapibus. Donec porta semper dignissim. Etiam et ex nibh.
            </h5>
        </div>
    </div>
</footer>
</body>
</html>